### 组件库

#### 1、完成组件库需要考虑的问题

* 代码结构
* 组件需求分析和编码
* 代码打包输出和发布
* 样式解决方案
* 组件测试用例分析和编码
* CI/CD 文档生成

#### 2.创建项目

```js
npx create-react-app components --typescript
// 安装scss
npm i node-scss --save
npm i classnames --save
npm i @types/classnames --save
```

#### 3.文档结构

```
componentsdemo/
  README.md
  node_modules/
  package.json
  tsconfig.json
  src/
    components/
      Button/
        button.tsx
        button.test.tsx
        style.scss
      styles/
       ...
      index.tsx
```

#### 4.样式解决方案分析

* inline CSS
* CSS in JS
* Styled Component
* Sass/Less

#### 5.样式系统文件结构

```js
styles/
  _variables.scss(各种变量以及可配置设置)
  _mixins.scss(全局mixins)
  _functions.scss(全局functions)
components/
  Button/
    style.scss(组件单独的样式)
```

#### 6.创建自己组件库的色彩

* 系统色板 - 基础色板 + 中性色板
* 产品色板 - 品牌色 + 功能色板

![image-20210522174458963](C:\Users\zjx_n\AppData\Roaming\Typora\typora-user-images\image-20210522174458963.png)

![image-20210522174602733](C:\Users\zjx_n\AppData\Roaming\Typora\typora-user-images\image-20210522174602733.png)

#### 7.组件库样式变量分类

* 基础色彩系统
* 字体系统
* 表单
* 按钮
* 边框和阴影
* 可配置开关

#### 8.Button组件需求分析

![image-20210523091841148](C:\Users\zjx_n\AppData\Roaming\Typora\typora-user-images\image-20210523091841148.png)

```html
<Button
 size = "lg"
 type = "primary"
 disabled
 href=""?
 className=""?
 autoFocus=""?
 ...
>
  Button
</Button>
```

```js
mixin:
解决CSS代码的重用问题，把公共、共用的部分抽取出来
```

### 测试

**为什么要测试 ？**

* 高质量的代码
* 更早地发现bug, 减少成本
* 让重构和升级变得更加容易可靠
* 让开发流程更加敏捷

![image-20210527164408621](C:\Users\zjx_n\AppData\Roaming\Typora\typora-user-images\image-20210527164408621.png)

##### React 组件特别适合单元测试

* Component - 组件
* Function - 函数
* 单项数据流

##### 安装 jest

```js
npx jest jest.test.js
npx jest jest.test.js --watch

#### React-testing-library

```js
运行react测试工具
npm run test

```







